Нацишите функцию withBoxUnlocked, которая принимает в качестве аргумента функциональное значение, отпирает ящик, запускает функцию, а затем гарантирует, что прежде, чем завершить работу, ящик снова будет заперт независимо от того, возвратила функция-аргумент нормальный результат 
или вызвала исключение. 
Если хотите заработать дополнительные баллы, убедитесь, что при вызове withBoxUnlocked, когда ящик уже открыт, он остается открытым.